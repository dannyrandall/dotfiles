/*! Copyright 2009-2017 Evernote Corporation. All rights reserved. */
function LogViewer(){"use strict";function a(){b(),c()}function b(){for(var a=n.getLogsProperties(["name"]),b=0;b<a.length;b++){var c=document.createElement("option");c.value=a[b].name,c.textContent=a[b].name,document.getElementById(i).appendChild(c)}}function c(){var a=document.getElementById(i).selectedIndex;a!=-1&&n.getLog(a,f)}function d(){m&&(clearInterval(m),m=0),this.checked&&(m=setInterval(c,2e3))}function e(){scroll(0,document.body.offsetHeight)}function f(a){var b=document.createElement("pre");b.textContent=a,document.getElementById(l).innerHTML="",document.getElementById(l).appendChild(b),document.getElementById(j).checked&&e()}function g(){n.startExportLogs(h)}function h(a){var b=document.createElement("a"),c=window.URL;b.href=c.createObjectURL(new Blob([a])),b.download="evernote_web_clipper_logs.txt",b.click()}var i="logSelector",j="logFollow",k="exportButton",l="logViewer";GlobalUtils.localize(document.body),GlobalUtils.localize(document.getElementsByTagName("title")[0]);var m=0;document.getElementById(i).addEventListener("change",c),document.getElementById(j).addEventListener("change",d),SAFARI||EDGE||FIREFOX?document.getElementById(k).style.display="none":document.getElementById(k).addEventListener("click",g);var n;SAFARI||EDGE||FIREFOX?(n=new LocalStorageLogReader,a()):n=new LogReader(/type=([^&$]+)/.test(location.hash)?/type=([^&$]+)/.exec(location.hash)[1]:null,a),Object.preventExtensions(this)}Object.preventExtensions(LogViewer),window.addEventListener("error",function(a){log.error(JSON.stringify(a))});var logViewer=null;document.addEventListener("DOMContentLoaded",function(){logViewer=new LogViewer});