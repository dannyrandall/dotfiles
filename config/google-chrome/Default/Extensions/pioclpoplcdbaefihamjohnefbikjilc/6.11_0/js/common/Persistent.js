/*! Copyright 2009-2017 Evernote Corporation. All rights reserved. */
var Persistent={};!function(){"use strict";Persistent.set=function(a,b){if(!document.location.href.match(/^(safari|chrome|ms-browser|moz-extension)/i))return console.error(document.location.href),void log.warn("Not setting persistent value for "+a+" on non-extension page.");"undefined"==typeof b&&(b="");try{if(localStorage.setItem(a,JSON.stringify(b)),FIREFOX){var c={};c[a]=b,chrome.storage.local.set(c)}}catch(c){c.code&&22===c.code&&c.name&&/quota/i.test(c.name)?log.error("Failed to serialize value for '"+a+"' with length "+JSON.stringify(b).length+", not enough space."):log.error("Failed to set localStorage because of this error: "+c.name+"("+c.code+"): "+c.stack)}},Persistent.get=function(a){var b=null;try{window&&window.localStorage?b=JSON.parse(window.localStorage[a]):localStorage&&(b=JSON.parse(localStorage[a]))}catch(a){}return b},Persistent.clearAll=function(){try{if(window&&window.localStorage){for(var a in window.localStorage)this.clear(a);FIREFOX&&chrome.storage.local.clear()}}catch(a){log.error("Failed to clear localStorage because of this error: "+a.name+"("+a.code+"): "+a.stack)}},Persistent.clear=function(a){return document.location.href.match(/^(safari|chrome|ms-browser|moz-extension)/i)?(window&&window.localStorage&&window.localStorage.removeItem?window.localStorage.removeItem(a):localStorage&&localStorage.removeItem&&localStorage.removeItem(a),void(FIREFOX&&chrome.storage.local.remove(a))):void(window&&window.console&&window.console.warn?window.console.warn("Not clearing persistent value for "+a+" on non-extension page."):console&&console.warn&&console.warn("Not clearing persistent value for "+a+" on non-extension page."))},Persistent.hasKey=function(a){return window&&window.localStorage?window.localStorage.hasOwnProperty(a):!!localStorage&&localStorage.hasOwnProperty(a)}}(),Object.preventExtensions(Persistent);