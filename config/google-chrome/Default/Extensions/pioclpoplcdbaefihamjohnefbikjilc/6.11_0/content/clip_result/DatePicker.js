/*! Copyright 2009-2017 Evernote Corporation. All rights reserved. */
function DatePicker(a,b){"use strict";function c(a){var b=a.getMonth()+1;b<10&&(b="&nbsp;"+b);var c=a.getDate();c<10&&(c="&nbsp;"+c);var d=a.getFullYear();d<10?d="&nbsp;&nbsp;&nbsp;"+d:d<100?d="&nbsp;&nbsp;"+d:d<1e3&&(d="&nbsp;"+d);var e=n[t].dateFormat.replace("mm",'<span id="selectedMonth">'+b+"</span>").replace("dd",'<span id="selectedDate">'+c+"</span>").replace("yy",'<span id="selectedYear">'+d)+"</span> ";return e+=0==a.getHours()||12==a.getHours()?'<span id="selectedHour">12</span>':a.getHours()%12<10?'<span id="selectedHour">&nbsp;'+a.getHours()%12+"</span>":'<span id="selectedHour">'+a.getHours()%12+"</span>",e+=a.getMinutes()<10?':<span id="selectedMinute">0'+a.getMinutes()+"</span> ":':<span id="selectedMinute">'+a.getMinutes()+"</span> ",e+=a.getHours()<12?'<span id="selectedMeridian">AM</span>':'<span id="selectedMeridian">PM</span>'}function d(){var a=document.createElement("div");a.id="dowHeader";for(var b=0;b<7;b++){var c=document.createElement("div");c.className="dow",c.innerText=Browser.i18n.getMessage(p[(n[t].firstDay+b)%7]).charAt(n[t].dowIndex||0).toUpperCase(),a.appendChild(c)}return a}function e(){n[t].showMonthAfterYear?v.innerText=s+" "+Browser.i18n.getMessage(o[r]).toUpperCase():v.innerText=Browser.i18n.getMessage(o[r]).toUpperCase()+" "+s}function f(){var a=new Date(s,r,1),b=a.getDay()-n[t].firstDay;b<0&&(b+=7),a=new Date(a-24*b*60*60*1e3);for(var c=0,d=!1,e=0;e<6;e++)for(var f=0;f<7;f++){var g;g=d?new Date(a-(6084e5*-e-24*f*60*60*1e3)):new Date(a-(7*-e*24*60*60*1e3-24*f*60*60*1e3)),c==g.getDate()&&(g=new Date(a-(7*-e*24*60*60*1e3-25*f*60*60*1e3)),d=!0),c=g.getDate(),w[e].children[f].innerText=g.getDate(),w[e].children[f].removeAttribute("id"),w[e].children[f].className=w[e].children[f].className.replace(/\s*(nextMonth|previousMonth|selected)/g,""),g.getMonth()>r&&g.getFullYear()==s||g.getMonth()<r&&g.getFullYear()>s?w[e].children[f].className+=" nextMonth":g.getMonth()<r&&g.getFullYear()==s||g.getMonth()>r&&g.getFullYear()<s?w[e].children[f].className+=" previousMonth":(g.getMonth()==q.getMonth()&&g.getDate()==q.getDate()&&g.getFullYear()==q.getFullYear()&&(w[e].children[f].id="today"),u&&g.getMonth()==u.month&&g.getDate()==u.date&&g.getFullYear()==u.year&&(w[e].children[f].className+=" selected"))}}function g(){var b=document.createElement("div"),c=document.createElement("div");b.id="previous",b.addEventListener("click",i),c.id="next",c.addEventListener("click",h);var g=document.createElement("div");g.id="topRow",g.appendChild(b),g.appendChild(c),v=document.createElement("div"),v.id="monthYearHeader",g.appendChild(v),a.appendChild(g),a.appendChild(d());for(var k=0;k<6;k++){w.push(document.createElement("div")),w[k].className="week";for(var l=0;l<7;l++){var m=document.createElement("div");m.className="day",m.addEventListener("click",function(){/previousMonth/.test(this.className)?i():/nextMonth/.test(this.className)?h():j(new Date(s,r,parseInt(this.innerText||this.textContent)))}),w[k].appendChild(m)}a.appendChild(w[k])}e(),f()}function h(){r=(r+1)%12,r||s++,e(),f()}function i(){r=(r-1+12)%12,11==r&&s--,e(),f()}function j(c,d){var g=a.querySelector(".day.selected");g&&(g.className=g.className.replace(/\s*selected/g,"")),r==c.getMonth()&&s==c.getFullYear()||(r=c.getMonth(),s=c.getFullYear(),e(),f());for(var h=a.querySelectorAll(".day:nth-child("+(c.getDay()+1-n[t].firstDay||7)+")"),i=0;i<h.length;i++){var j=h.item(i);if(!(j.innerText!=c.getDate()&&j.textContent!=c.getDate()||/previousMonth/.test(j.className)||/nextMonth/.test(j.className))){j.className+=" selected";break}}u={month:c.getMonth(),date:c.getDate(),year:c.getFullYear()},b(u,d)}function k(){return Boolean(u)}function l(){u?(r=u.month,s=u.year):(r=q.getMonth(),s=q.getFullYear()),e(),f()}function m(a){return new RegExp("^"+n[t].dateFormat.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/(mm|dd)/g,"(\\s\\d|\\d{2})").replace("yy","(\\d{4})")+" (\\s\\d|\\d{2}):\\d{2} (AM|PM)$").test(a)}var n={da:{dateFormat:"dd-mm-yy",firstDay:1,showMonthAfterYear:!1},de:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},enau:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},engb:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},ennz:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},enus:{dateFormat:"mm/dd/yy",firstDay:0,showMonthAfterYear:!1},es:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},fi:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},frca:{dateFormat:"yy-mm-dd",firstDay:0,showMonthAfterYear:!1},frch:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},fr:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},hu:{dateFormat:"yy.mm.dd.",firstDay:1,showMonthAfterYear:!0},id:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},itch:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},it:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},ja:{dateFormat:"yy/mm/dd",firstDay:0,showMonthAfterYear:!0},ko:{dateFormat:"yy-mm-dd",firstDay:0,showMonthAfterYear:!0},ms:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},nb:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},nlbe:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},nl:{dateFormat:"dd-mm-yy",firstDay:1,showMonthAfterYear:!1},pl:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},ptbr:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},pt:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},ro:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},ru:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},srsr:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},sr:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},sv:{dateFormat:"yy-mm-dd",firstDay:1,showMonthAfterYear:!1},th:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},tr:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},vi:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},zhcn:{dateFormat:"yy-mm-dd",dowIndex:2,firstDay:1,showMonthAfterYear:!0},zhhk:{dateFormat:"dd-mm-yy",dowIndex:2,firstDay:0,showMonthAfterYear:!0},zhtw:{dateFormat:"yy/mm/dd",dowIndex:2,firstDay:1,showMonthAfterYear:!0}},o=["January","February","March","April","May","June","July","August","September","October","November","December"],p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],q=new Date,r=q.getMonth(),s=q.getFullYear(),t=window.navigator.language.replace(/[^a-z]/gi,"").toLowerCase();n[t]||(t="enus");var u,v,w=[];g(),this.format=c,this.selectDate=j,this.selectedDate=k,this.showTodayOrSelected=l,this.validate=m,Object.preventExtensions(this)}Object.preventExtensions(DatePicker);