/*! Copyright 2009-2017 Evernote Corporation. All rights reserved. */
define([],function(){function a(){function a(a){if(a.getAttribute&&"button_pinit_floating"==a.getAttribute("data-pin-log"))return!0}function b(){return document.body.hasAttribute(e)}function c(){return{x:f+h,y:0}}function d(a){var b=null;return(a.hasAttribute("data-pin-nopin")||a.hasAttribute("data-pin-no-hover"))&&(b=0),"round"==a.getAttribute("data-pin-shape")?b=(a.getAttribute("data-pin-height")||g)+h:"rectangle"==a.getAttribute("data-pin-shape")&&(b=(2*a.getAttribute("data-pin-height")||f)+h),b}var e="data-pinterest-extension-installed",f=49,g=20,h=5;this.calculateCustomOffset=d,this.checkIfNodeIsButton=a,this.extensionInstalled=b,this.getExtensionOffset=c}function b(){J&&(J.style.opacity="1")}function c(){J&&(J.style.opacity="0.95")}function d(){L&&L.src&&Browser.sendToExtension({name:"saveToEvernote",clipType:"image",imageUrl:L.src})}function e(){J=document.createElement("span"),J.style.backgroundColor="#FFFFFF",J.style.backgroundImage="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADeklEQVR42u1WX0hTYRS/TTRwS7AttQ0Rt1CGm2n5nzAdOJnO2Mac/9gc9GQPgfkSPVUvgURPQewliHqJoKcoopd6CKq3IggEi4rsDxqCRhbU6fe77aOLD+kd3rcd+Pju+fPd3znnO+fcqxWpSNslm83m4F5eXp6rqKhYqaysFJfLtVFVVfW4urr6iKXgpaWlIQDP8dnldH6pqakRj8cjdXV1Ul9fL16vd9Hn8x3GHgDvhXzPjoGXlZV12u32dUR8lnxtbe0qgKShoUH8fr8EAgEJBoPS3NzMnTzl1C/D7gHsTyJDJYWCBx0Ox1en0ylut/sCZY2NjesEaWlpkba2Nuns6JCuri7p7u7mTp5yXU872DNLs4WkfS8ivwTwnMftziGaKOV48UZHe7v09PRIb2+v9PX1Sai/X0KhEHfylOt62sGeGbmn7RQh0k8EIGA4HJZIJCJDQ0MyPDzMnTzlup52zMyh1tbnpoFQ6Rdxd9eQvhwiyOElOUR1ExH+Cg8M6GDHRkYkFotJIh6XRCLBnTzlup52sGc23pnFZ7X/RAHxDplGRqK/bHBwUEaiUYkDLJlMSiqVkjGusTHu5Cmnnna057lV0w6g1d6z2llIvEumkxHxpYw0NToq4+PjMjk5KVNTU2qRp5x62tGe58w7gD5/yFZj9Cwo3inTGs+DT0xM6IDpdFoymYxa5O9APg/9Auxoz3M/TDuAYXKZ/cyWYvQsLN4t08sIFfj09LRks1nJ/t3fqvPQ+2lHe54z7QCK7zjSz77mHbK6WWC8Y6ZZgSsH1FoBP4s1A/1R2NGe58w7gPtvwmTjcGF/M428UxYao2e6/wErRwzOQE872vPcd9MOYLbbMF6XUf28f/Y5W43VrhxQgK9VJgzXoRygPc+taoUQMnB1Gxm4vo0MfCzIAdTAAdTA4n9q4A2Wl1lQwCoT1Btq4KlWKKELStAFUXTBDVTzK1T1Wr4LfgNkTtkh+v1wIAPwJYIzekMX3NJ2ktDfu9Hndj4D7CDSHcMaxUqC3wfwl9CLYQ7Ma1YQIjy/aRK+yMvPbZqEaUscQHrvG74Fp7A35eUnNn0LILeAcLePDF9Dr0E+Y/gafsAo32WJAyjM24b/gbvYT4M/A/kzw//AFc0qAsDMFn9E3/Ax81kCrloUc2IOw+oJIv2Mfc3wT7iAORLRilSkLegPz4Fhh4IC9IkAAAAASUVORK5CYII=')",J.style.backgroundPosition="1px 3px",J.style.backgroundRepeat="no-repeat",J.style.backgroundSize="14px 14px",J.style.border="1px solid #CCCCCC",J.style.borderRadius="3px",J.style.boxSizing="content-box",J.style.cursor="pointer",J.style.display="none",J.style.fontFamily="Verdana, Arial, Helvetica, sans-serif",J.style.fontSize="11px",J.style.height="16px",J.style.left="0px",J.style.lineHeight="14px",J.style.opacity="0.95",J.style.padding="2px 3px 1px",J.style.position="absolute",J.style.top="0px",J.style.zIndex=2147483647;var a=document.createElement("span");a.style.marginLeft="14px",a.innerHTML=Browser.i18n.getMessage("rememberImage"),J.appendChild(a),document.body.appendChild(J),J.addEventListener("mouseover",b),J.addEventListener("mouseout",c),J.addEventListener("click",d)}function f(){L&&setTimeout(function(){L&&(i(L),m(L)?J.style.display="block":J.style.display="none")},300)}function g(a){var b=0,c=0,d=a.style.marginTop;d&&""!=d&&(b=parseFloat(d)),d=a.style.marginLeft,d&&""!=d&&(c=parseFloat(d));var e=a.getBoundingClientRect(),f=document.body,g=document.documentElement,h=window.pageYOffset||g.scrollTop||f.scrollTop,i=window.pageXOffset||g.scrollLeft||f.scrollLeft,j=g.clientTop||f.clientTop||0,k=g.clientLeft||f.clientLeft||0,l=e.top+h-j-b,m=e.left+i-k-c;return{y:Math.round(l),x:Math.round(m)}}function h(a){var b=g(a),c=parseInt(a.getAttribute(V));c=X.x;var d=b.x+R+c,e=b.y+R+X.y;return{y:e,x:d}}function i(a){var b=h(a);J.style.left=b.x+"px",J.style.top=b.y+"px"}function j(a){p(a)&&(L&&l(L),J&&(L=a,i(L),L.addEventListener("mousewheel",f),m(L)&&(J.style.display="block")))}function k(a){if("block"===J.style.display){var b=g(a);J.style.left=b.x+a.clientWidth+R+"px",J.style.top=b.y+"px"}}function l(a){J&&J!=a&&(J.style.display="none",L&&L.removeEventListener("mousewheel",f),L=void 0)}function m(a){var b=h(a),c=document.elementFromPoint(b.x-1-window.pageXOffset,b.y-window.pageYOffset);return c==a}function n(a){j(a.target)}function o(a){l(a.relatedTarget)}function p(a){if(a.clientWidth>=S&&a.clientHeight>=T)return!0}function q(a){if(a&&a.querySelectorAll)for(var b=a.querySelectorAll("img"),c=0;c<b.length;c++){b[c].setAttribute(U,!0);var d=W.calculateCustomOffset(b[c]);null!==d&&b[c].setAttribute(V,d),b[c].addEventListener("mouseover",n),b[c].addEventListener("mouseout",o)}}function r(){K=new Q(function(a){a.forEach(function(a){if(a.addedNodes&&a.addedNodes.length>0)for(var b=0;b<a.addedNodes.length;b++){var c=a.addedNodes[b];q(c),W.checkIfNodeIsButton(c)&&k(c)}})});var a={childList:!0,subtree:!0};K.observe(document.body,a)}function s(){K&&(K.disconnect(),K=void 0)}function t(a){for(var b=a.parentElement;b;){if(b.tagName&&"div"==b.tagName.toLowerCase()&&("article"==b.getAttribute("role")||b.classList.contains("fbPhotoSnowliftContainer"))){var c=b.querySelector("div._1dwg")||b;return c}b=b.parentElement}return null}function u(a){var b=t(a.target);b&&(P.selectedElement=b,Browser.sendToExtension({name:"saveToEvernote",clipType:"facebook"}))}function v(a){var b=a.querySelector("span["+U+"]");if(!b){var c=document.createElement("span");c.setAttribute(U,"");var d=document.createElement("div");d.className="_6a",d.style.backgroundImage="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAANSSURBVEhLvZY9aFNRGIarHRzURXBwrS5SxcHBRRDchA4OOuriVAehdhEndRFKYmmTJrlp89skNP9NmiaIiw6CuimCUKii4i+tFFqxCnp83+s9l3NObpu71OEh9/vOOe97fr5zb/oCgcB/xTO5k3gmdxLPpEowGNzH34mJCSsUCq2Gw2ExNTW1GYlEHkej0dNm/154JiXj4+NnYTTKZ5h8hYGIxWIiHo+L6elpMTMzswxOgmOIB5Dfb2qYeCYJzE7BbAMrusXYsqw1CItEIiFSqZRIp9Mik8m4MGYe7Svo9wD9r2GC/aauFkhgdnxycvIbVsUV3WUumUxuUDSbzYpcLify+bxNoVBwn5lnO/uhP3dhxNTWAgKzA1jZPZhZMLMw2yHmIbSZhyAN5ubmRLFYFKVSyYUx8/YEHGOsuGPqa8F2QOgzBSleqVREtVoVtVrNhTHzbJfGs9nsc1NHCwgqMYC9z2A7LMzQwiALg7GA4u9KuWyL1+t1MT8/LxqNhgtj5tnOflwxxr0z9bWAYCt/4cDtM+C2cKYczNnXIUbxZrMpFhYWumCe7ezH/hi3ZuprAcHq3rMaefA8C24PZyzNKNxqtcTi4mIXzLPdNS2XexuiUB6y9OXqeCbcJtOs3W6LTqfjgriF/Bjal6Qpxv009bWA4PKGeZ9Y4vbquJU4G27XVmbgrRyP9qPsx/4cp2oTLSAoliv2duJe8exYfSwIznoLM7IKRsAw2s+wH/tznKmvBQTnN8g3Bw3N7aSQYrIl0hDjfpj6WkBguBuGK17nZxi+Vp41FMPeRUNgmPSxwlnlWUMx/GRqa4EEZ3gEhsvbnOEbMAC6Vsl2aYhxT01tLVBBlfajSodQpTlU2ytU3bpTpX8gan+yCEwOgcvgozRTqrSsahIt6AVmvQdie/kM8RMwOQ8ugguID8LsJc2c7eRxjJkaWuAXiN7hShReOPnb0sx501wyx2qBX7Bd9ynscB0MOvmrrtm/d6mdV9ECv+BsHrGQKA4GlPwwq9r5WnzA1dqljiNa4BfMvqZ8D9vgBuKbyD9TvodRr7FdCT9AcJhXhuISxo4RvzLf8fI/7DW2K+EHXhnc01HwBAZf8LvOF4Xzn2YJ9/ic1zjimdw5An1/AYz/xklwom/7AAAAAElFTkSuQmCC')",d.style.backgroundPosition="0px 3px",d.style.backgroundRepeat="no-repeat",d.style.backgroundSize="14px 14px",d.style.cursor="pointer";var e=document.createElement("a");e.setAttribute("role","button"),e.style.marginLeft="18px",e.innerHTML=Browser.i18n.getMessage("rememberFacebook"),d.appendChild(e),c.appendChild(d),a.appendChild(c),c.addEventListener("click",u)}}function w(a){if(a&&a.querySelectorAll)for(var b=a.querySelectorAll("div._42nr"),c=0;c<b.length;c++)v(b[c])}function x(){M=new Q(function(a){a.forEach(function(a){if(console.log(),a.addedNodes&&a.addedNodes.length>0)for(var b=0;b<a.addedNodes.length;b++){var c=a.addedNodes[b];w(c)}})});var a={childList:!0,subtree:!0};M.observe(document.body,a)}function y(){M&&(M.disconnect(),M=void 0)}function z(){return"www.facebook.com"==window.location.hostname}function A(){Browser.sendToExtension({name:"saveToEvernote",clipType:"gmail"})}function B(){var a=document.querySelector("div.iH > div");if(a){var b=a.querySelector("div["+U+"]");if(!b){N=document.createElement("div"),N.setAttribute(U,""),N.className="G-Ni",N.classList.add("J-J5-Ji");var c=document.createElement("div");c.setAttribute("class","T-I J-J5-Ji nX T-I-ax7 T-I-Js-Gs ar7"),c.setAttribute("role","button"),N.appendChild(c);var d=document.createElement("div");d.style.backgroundImage="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAR7SURBVFhHxZfPa1xVFMeLCiJ24cI/oFRwXchCwYz5bRqSOMSZIT8naUJmTEgyNg75PfmhC52FuCiIG1fqtkqxi0IXFhWEWlCo6MIGlUakKLZItZWUXL+f57vTd+88TJ6LuPjycs4953zv+fXm5UhDQ8P/ililj8bGxkd4tra2Zjo6OrY7Ozt/7+rqMt3d3bd7eno+7+3tTfs+B0WsMopUKtXe0tJyir+7Tp48K0IjQtPX12deELKZjMlms7u5XO5J3/cgiFVaNDU1pdra2v5QxtPI6XT6PKQiM/39/WZwcNAMDQ2Z4eFhMzIyckPPbcnXpL+i8wuye0f2ZfmlVK2H/PigTmHR3Nz8VHt7+y1KrYyDCyjgpcGBAcjMaD5vTo2NmfHxcTMxMVEDMnrOscOeC6tiVxTncZ/HESyU+QmR3wzJTSaTCS6gDD8dGx0NSCYnJ02xUDBTU1N1QM85dthTISqmOK/4XI4A1PNHVfYXRT4k8px6nFNJj3GmgB8XQtLp6WkzOztr5ubmApRKpdrf6DnHDnsukldFFOecz+cI+0GZfUjgORFAOD8/b14WyuVyDcjogwuFF6EitEeX+MKP6QhAa1bWwLylnlVVtqqcqnKuFovFN2ZmZn6xxJAtLCyYxcVFs7S0VAMyes7tReRn5M8lvvP5HAFo1XY1tcHg0DvKRwYEeUnByBACyFaWl83KyopZXQWrwRMZPefYYY9fcIlC4WefzxGA9vwGq8b0MkD0kDKSiSVfDonX1tbMeqVi1tfX70Myes6xs5fAX3Fu+XyOADR4l8meFSJ7BoleUk5LTqaVCPHGxobZCJ9Wxzl29hL4K87+F1Dv32Vl2GNWyWZPT4OyKzNLDunm5qaPHemf0/lx2Q3I/i/88Fecez6fIwCVf4E3HC8Tes9K2ezpbVB2j3xra6sGye9H48n+In62CtEz4AhAe9/K67VWfu01PWS6yd72PI48xJfSvya8Kru07D/AD3/i+HyOAPTDclTTv8ve2gvY8tPTIHv12iePk+1M4Be24U+fzxEsNICX7QWi/WfVouUPyX7gbwvnArL75wKr9gL7DyFQBdYSVOC8JbTkVo6pwE8+lyNYaAaOaQbuHGAG7oqsLUpsyQF22Edm4CufyxGi0BY8qy24qC3Y+5ctuICtSPPCOeF7S27LH7yU7m9B8h8jvQee0BycVvneUxk/UzZXtd87Cn5VJE/79iJ/RvpvIOd9QfZh+ZmnM769I/wXiOiEep0VaVHPWcmdwsMi/yTmTVjy/R0hKVTeM3YmaqhU3uZMmZdifgua/RiOkBTq7TVKTKZatet6TklOcaay5yx5+Gu4p5l6zI/hCEkhgh+ZbnosvBk9U8+7KTuZh98DX0fPLeoUSSCCbTJkwISPhAfsmYjz3hdRNeprUadIAq3oJd4TgEz1vC1cl/5XEe/xHgm/CXf1ZXU8LkadIgmU2QgkPsjY+yp22hNFrDIJRPK8yntW+Fb4jWwj/xfs6MvqdX3gPBjnC2KVh4lY5WEiVnl4aDjyN+fMbrEGOPsUAAAAAElFTkSuQmCC')",d.style.backgroundPosition="0px 5px",d.style.backgroundRepeat="no-repeat",d.style.backgroundSize="16px 16px";var e=document.createElement("span");e.style.marginLeft="18px",e.innerHTML=Browser.i18n.getMessage("rememberGmail"),d.appendChild(e),c.appendChild(d),a.appendChild(N),N.addEventListener("click",A)}}}function C(){var a=document.querySelector("#loading");if(a){O=new Q(function(a){a.forEach(function(){B()})});var b={attributes:!0,attributeFilter:["style"]};O.observe(a,b)}}function D(){O&&(O.disconnect(),O=void 0)}function E(){return"mail.google.com"==window.location.hostname}function F(){window.setTimeout(function(){W.extensionInstalled()&&(X=W.getExtensionOffset())},1e3),e(),s(),r(),q(document.body)}function G(){E()&&(D(),C(),B())}function H(){z()&&(y(),x(),w(document.body))}function I(){F(),G(),H()}var J,K,L,M,N,O,P={},Q=window.MutationObserver||window.WebKitMutationObserver,R=10,S=100,T=100,U="data-evernote-hover-show",V="data-evernote-hover-offset",W=new a,X={x:0,y:0};return P.enable=function(){Browser.runAfterDomLoaded(I),window.addEventListener("hashchange",I)},P});