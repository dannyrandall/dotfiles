"undefined"!=typeof LPPlatform&&LPPlatform.addEventListener(document,"keydown",function(e){try{switch(e.keyCode||e.which){case 13:"checkbox"!==e.target.type?Topics.get(Topics.ENTER).publish(e):e.target.checked=!e.target.checked;break;case 27:Topics.get(Topics.ESCAPE).publish(e);break;case 37:Topics.get(Topics.LEFT_ARROW).publish(e);break;case 38:Topics.get(Topics.UP_ARROW).publish(e);break;case 39:Topics.get(Topics.RIGHT_ARROW).publish(e);break;case 40:Topics.get(Topics.DOWN_ARROW).publish(e)}}catch(e){LPPlatform.logException(e)}}),LPTools={},function(e){var t=[];e.setDragItems=function(e){t=e},e.getDragItems=function(){return t},e.buildItemButton=function(t){var n=Constants.ACTION_BUTTONS[t];return e.createElement("button",{class:"itemButton "+n.css,vaultaction:t,title:Strings.Vault[n.title],allowmultiple:!1})},e.setupMiddleEllipsis=function(e){var t=e.find(".textOverflowContainer"),n=Math.ceil(t.get(0).children[0].getBoundingClientRect().width),a=n+Math.ceil(e.find(".textTail").get(0).getBoundingClientRect().width),i=a-n;t.css("max-width",a),t.css("padding-right",i),t.css("margin-right",-i)},e.requireBinary=function(e){bg.have_binary()?e():LPPlatform.supportsBinary()?dialogs.confirmation.open({title:Strings.translateString("Install Binary Component"),text:Strings.translateString("This feature requires the binary version of this browser extension. Would you like to install it now?"),handler:function(){bg.install_binary()}}):dialogs.alert.open({title:Strings.translateString("Not Supported"),text:Strings.translateString("This feature requires an external binary component, which is currently not supported on this platform.")})},e.isType=function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},e.getURLParams=function(){var e={},t=document.location.href.split("?");if(2===t.length)for(var n=t[1].split("&"),a=0;a<n.length;++a){var i=n[a].split("=");2===i.length&&(e[i[0]]=i[1])}return e},e.setContent=function(t,n){if(t.empty(),n)if("string"==typeof n){for(var a=n.indexOf("<br/>");a>-1;)t.append(document.createTextNode(n.substring(0,a))),t.append(document.createElement("br")),n=n.substring(a+5),a=n.indexOf("<br/>");t.append(document.createTextNode(n))}else if(e.isType(n,"Array"))for(var i=0,r=n.length;i<r;++i){var l=n[i];"string"==typeof l&&(l=e.createElement("p","dialogText",l)),t.append(l)}else t.append(n)},e.hideContextMenu=function(t){null!==t&&(t.removeClass("bottomAligned"),t.hide(),e.removeKeyBoardNavigation())},e.displayContextMenu=function(e,t){var n=$(t);return e.clientY>window.innerHeight/2?(n.addClass("bottomAligned"),n.css("bottom",window.innerHeight-e.clientY),n.css("top","")):(n.css("top",e.clientY),n.css("bottom","")),n.css("left",e.clientX),n.show(),n},e.getProperties=function(e){var t=[];for(var n in e)t.push(n);return t},e.openAlerts=function(){var t=function(t,n,a){return function(){"function"==typeof t&&t(),e.openAlerts(n,a)}};return function(e,n){if(e.length>0){var a=e.shift();$.extend(a,{handler:t(a.handler,e,n),closeHandler:t(a.closeHandler,e,n)}),dialogs[a.type].open(a)}else n&&n()}}(),e.buildDialogItemContainer=function(t){for(var n=e.createElement("div","dialogItemContainer noSelect"),a={display:VaultItemBaseDisplay.prototype.DISPLAY_LIST,allowDrag:!1,additionalItemClasses:"dialogItem noItemButtons"},i=0,r=t.length;i<r;++i){var l=t[i].newDisplayObject();n.appendChild(l.build(a))}return n},e.buildEmptyPlaceholder=function(t,n,a){return"ul"===a.tagName.toLocaleLowerCase()?e.createElement("li","emptyPlaceholder "+n,t):e.createElement("div","emptyPlaceholder "+n,t)},e.get_gmt_timestamp=function(){var e=new Date,t=e.getTime();return parseInt(t/1e3)},e.ContextMenuItem=function(t,n){this.getAction=function(){return t},this.build=function(a,i,r){var l=void 0!==n&&void 0!==n.divider&&n.divider,o=void 0!==n&&void 0!==n.submenu&&n.submenu,s=null;l&&(s="divider"),o&&(s+=" subMenuOption");var T=e.createElement("li",{class:s,vaultaction:t});if(void 0===n||void 0===n.text?T.textContent=Strings.Vault[Constants.CONTEXT_MENU_ITEMS[t]]:T.textContent=n.text,a.appendChild(T),o){T.appendChild(e.createElement("div"));var E=e.createElement("ul","subMenu");T.appendChild(E),function(t,n){var i=null,l=!1,o=function(){l&&(n.hide("fast"),e.addKeyBoardNavigation(a.children),Topics.get(Topics.LEFT_ARROW).unsubscribe(o))},s=function(e){l=!0,r(e),Topics.get(Topics.LEFT_ARROW).subscribe(o)};t.bind("click",s),t.bind("mouseenter",function(e){i=setTimeout(function(){s(e)},200)}),t.bind("mouseleave",function(){i&&clearTimeout(i),o()})}($(T),$(E))}else LPPlatform.addEventListener(T,"click",i)}},e.parseUserSpecificMenu=function(t,n){for(var a=t.firstElementChild;a;){var i=a.getAttribute("user");if(null!==i){for(var r=i.split("|"),l=!0,o=0,s=r.length;o<s;++o)if(n===r[o]){l=!1;break}l?$(a).hide():a.removeAttribute("style")}e.parseUserSpecificMenu(a,n),a=a.nextElementSibling}},e.buildSentShareItems=function(e,t){var n=[];if(t)for(var a=0,i=t.length;a<i;++a){var r=t[a];"1"===r.state?n.push(new AcceptedSentSharedItem(e,r)):"2"===r.state?n.push(new DeclinedSentSharedItem(e,r)):n.push(new PendingSentSharedItem(e,r))}return n},e.openShareDialog=function(t,n){if(t&&1===t.length&&void 0===n)return LPRequest.makeDataRequest(LPProxy.getSentShareData,{params:{id:t[0].getID()},requestSuccessOptions:{closeDialog:!1},success:function(n){e.openShareDialog(t,n)},error:function(){Topics.get(Topics.DIALOG_LOADED).publish()}}),void Topics.get(Topics.DIALOG_LOADING).publish();if(n&&!dialogs.share.loadedJS())return void dialogs.share.loadJS(function(){e.openShareDialog(t,n)});var a=n?e.buildSentShareItems(t[0],n.sent[t[0].getID()]):null,i=n?n.friends:null;dialogs.share.open(t,a,i)},e.objectsToArray=function(){for(var e=[],t=0,n=arguments.length;t<n;++t){var a=arguments[t];for(var i in a)e.push(a[i])}return e},e.createEventHandler=function(e){return function(t){e.handleEvent(t)}},e.getAttribute=function(e,t,n){for(var a=t.getAttribute(n);null===a&&t!==e&&null!==(t=t.parentElement);)a=t.getAttribute(n);return a},e.removeDOMChildren=function(e){if(e)for(var t=e.childNodes.length;t--;)e.removeChild(e.lastChild)},e.removeDOMChildrenFrom=function(e,t){if(e)for(;t;){var n=t;t=t.nextElementSibling,e.removeChild(n)}},e.createElement=function(){var e=function(e,t,n){n instanceof Array?e.setAttribute(t,n.join(" ")):e.setAttribute(t,n)};return function(t,n,a){var i=document.createElement(t);if(("string"==typeof n||n instanceof Array)&&(n={class:n}),"input"!==t&&"textarea"!==t||(n=$.extend(n,{spellcheck:!1})),"object"==typeof n)for(var r in n){var l=n[r];void 0!==l&&null!==l&&e(i,r,l)}return void 0!==a&&(i.textContent=a),i}}(),e.addClass=function(e,t){if(null!==e){t instanceof Array&&(t=t.join(" "));var n=e.getAttribute("class");n&&(t=n+" "+t),e.setAttribute("class",t)}},e.getOption=function(e,t,n){var a=n;return e&&void 0!==e[t]&&(a=e[t]),a},function(){var t=null,n=-1,a=null,i=null,r=null,l=null,o=null,s=function(e){return t&&e>-1&&e<t.length?t[e]:null},T=function(e,t){var a=s(n);a&&a.removeClass("hover"),n=e,(a=s(n))&&(a.addClass("hover"),t&&o&&o.focusHandler&&o.focusHandler(a))},E=function(e){return parseInt(e.closest("[navindex]").attr("navindex"))},u=function(e){l=!0,$(document.body).unbind("mousemove",u)};e.disableMouse=function(e){l&&(l=!1,$(document.body).bind("mousemove",u))};var c=function(e){if(l){T(E($(e.target)))}},O=function(e){var t=e.offsetParent();t.scrollTop(Math.max(t.scrollTop()+t.height(),t.scrollTop()+e.position().top+e.outerHeight())-t.height())},S=function(e){var t=e.offsetParent();t.scrollTop(Math.min(t.scrollTop(),t.scrollTop()+e.position().top))},N=function(a){var i=null;n===t.length-1?(i=0,S(t[i])):(i=n+1,O(t[i])),T(i,!0),e.disableMouse(),a.preventDefault(),a.stopPropagation()},d=function(a){var i=null;n<1?(i=t.length-1,O(t[i])):(i=n-1,S(t[i])),T(i,!0),e.disableMouse(),a.preventDefault(),a.stopPropagation()},_=function(e){if(e){var t=new Event(a,{bubbles:!0});e.get(0).dispatchEvent(t)}},g=function(){var t=s(n);if(t){if(i){var a=t.find(i);a.length&&(t=a)}_(t),e.disableMouse()}return!1},C=function(){return _(s(n)),!1};e.setNavIndex=function(e){T(e);var t=s();t&&t.get(0).scrollIntoView()},e.getNavIndex=function(){return n},e.addKeyBoardNavigation=function(s,T){if(s.length>0){t=[],n=-1,null===l&&(l=!0),a=e.getOption(T,"mouseEvent","click"),i=e.getOption(T,"rightArrowSelector",null),r=e.getOption(T,"useRightArrow",!0),o=T;for(var E=0,u=s.length;E<u;++E){var O=$(s[E]);O.attr("navindex",E),O.unbind("mouseenter",c),O.bind("mouseenter",c),O.hasClass("hover")&&(n=E),t.push(O)}Topics.get(Topics.DOWN_ARROW).subscribe(N),Topics.get(Topics.UP_ARROW).subscribe(d),Topics.get(Topics.ENTER).subscribeFirst(C),r&&Topics.get(Topics.RIGHT_ARROW).subscribe(g),e.getOption(T,"selectFirst",!1)&&e.setNavIndex(0)}else e.removeKeyBoardNavigation()},e.removeKeyBoardNavigation=function(){t=null,Topics.get(Topics.DOWN_ARROW).unsubscribe(N),Topics.get(Topics.UP_ARROW).unsubscribe(d),Topics.get(Topics.RIGHT_ARROW).unsubscribe(g),Topics.get(Topics.ENTER).unsubscribe(C)}}(),e.addZebraStriping=function(e){for(var t=$(e).find("tr"),n=0,a=t.length;n<a;++n)n%2!=0?$(t[n]).addClass("odd"):$(t[n]).removeClass("odd")};var n=function(e){var t=e.target.previousElementSibling;t.checked=!t.checked};e.buildCheckbox=function(t,a){var i=a?a.checkboxAttributes:void 0;i=$.extend(i,{class:"checkbox",type:"checkbox"});var r=e.createElement("input",i),l=e.createElement("label",t,e.getOption(a,"text",void 0));e.getOption(a,"addClickHandler",!0)&&LPPlatform.addEventListener(l,"click",n);var o=e.createElement("div");return o.appendChild(r),o.appendChild(l),o},e.buildRadioButton=function(t,a,i){var r=e.createElement("input",{class:"radio",type:"radio",name:t}),l=e.createElement("label",a,i);LPPlatform.addEventListener(l,"click",n);var o=e.createElement("div");return o.appendChild(r),o.appendChild(l),o},e.hasProperties=function(e){if(e)for(var t in e)return!0;return!1},e.createSelectElement=function(t,n){var a=e.createElement("select",n);return $(a).addClass("dialogInput selectDropdown"),e.setSelectOptions(a,t),a},e.setSelectOptions=function(t,n){e.removeDOMChildren(t);for(var a=0,i=n.length;a<i;++a){var r=n[a],l="object"==typeof r?r.value:r,o="object"==typeof r&&r.label?r.label:l;t.appendChild(e.createElement("option",{value:l},o))}},e.createTimezoneSelect=function(){var t=[{value:"-12:00,0",label:"(-12:00) "+Strings.translateString("International Date Line West")},{value:"-11:00,0",label:"(-11:00) "+Strings.translateString("Midway Island, Samoa")},{value:"-10:00,0",label:"(-10:00) "+Strings.translateString("Hawaii")},{value:"-09:00,1",label:"(-09:00) "+Strings.translateString("Alaska")},{value:"-08:00,1",label:"(-08:00) "+Strings.translateString("Pacific Time (US & Canada)")},{value:"-07:00,0",label:"(-07:00) "+Strings.translateString("Arizona")},{value:"-07:00,1",label:"(-07:00) "+Strings.translateString("Mountain Time (US & Canada)")},{value:"-06:00,0",label:"(-06:00) "+Strings.translateString("Central America, Saskatchewan")},{value:"-06:00,1",label:"(-06:00) "+Strings.translateString("Central Time (US & Canada), Guadalajara, Mexico City")},{value:"-05:00,0",label:"(-05:00) "+Strings.translateString("Indiana, Bogota, Lima, Quito, Rio Branco")},{value:"-05:00,1",label:"(-05:00) "+Strings.translateString("Eastern Time (US & Canada)")},{value:"-04:30,0",label:"(-04:30) "+Strings.translateString("Caracas")},{value:"-04:00,1",label:"(-04:00) "+Strings.translateString("Atlantic Time (Canada), Manaus, Santiago")},{value:"-04:00,0",label:"(-04:00) "+Strings.translateString("La Paz")},{value:"-03:30,1",label:"(-03:30) "+Strings.translateString("Newfoundland")},{value:"-03:00,1",label:"(-03:00) "+Strings.translateString("Greenland, Brasilia, Montevideo")},{value:"-03:00,0",label:"(-03:00) "+Strings.translateString("Buenos Aires, Georgetown")},{value:"-02:00,1",label:"(-02:00) "+Strings.translateString("Mid-Atlantic")},{value:"-02:00,0",label:"(-02:00) "+Strings.translateString("South Georgia")},{value:"-01:00,1",label:"(-01:00) "+Strings.translateString("Azores")},{value:"-01:00,0",label:"(-01:00) "+Strings.translateString("Cape Verde Is.")},{value:"00:00,0",label:"(00:00) "+Strings.translateString("Casablanca, Monrovia, Reykjavik")},{value:"00:00,1",label:"(00:00) "+Strings.translateString("GMT: Dublin, Edinburgh, Lisbon, London")},{value:"+01:00,1",label:"(+01:00) "+Strings.translateString("Amsterdam, Berlin, Rome, Vienna, Prague, Brussels")},{value:"+01:00,0",label:"(+01:00) "+Strings.translateString("West Central Africa")},{value:"+02:00,1",label:"(+02:00) "+Strings.translateString("Amman, Athens, Istanbul, Beirut, Cairo, Jerusalem")},{value:"+02:00,0",label:"(+02:00) "+Strings.translateString("Harare, Pretoria")},{value:"+03:00,1",label:"(+03:00) "+Strings.translateString("Baghdad")},{value:"+03:00,0",label:"(+03:00) "+Strings.translateString("Kuwait, Riyadh, Nairobi, Moscow, St. Petersburg, Volgograd")},{value:"+03:30,1",label:"(+03:30) "+Strings.translateString("Tehran")},{value:"+04:00,0",label:"(+04:00) "+Strings.translateString("Abu Dhabi, Muscat, Tbilisi, Izhevsk")},{value:"+04:00,1",label:"(+04:00) "+Strings.translateString("Baku, Yerevan")},{value:"+04:30,0",label:"(+04:30) "+Strings.translateString("Kabul")},{value:"+05:00,1",label:"(+05:00) "+Strings.translateString("GMT+5")},{value:"+05:00,0",label:"(+05:00) "+Strings.translateString("Islamabad, Karachi, Tashkent, Ekaterinburg")},{value:"+05:30,0",label:"(+05:30) "+Strings.translateString("Chennai, Kolkata, Mumbai, New Delhi, Sri Jayawardenepura")},{value:"+05:45,0",label:"(+05:45) "+Strings.translateString("Kathmandu")},{value:"+06:00,0",label:"(+06:00) "+Strings.translateString("Astana, Dhaka, Novosibirsk")},{value:"+06:00,1",label:"(+06:00) "+Strings.translateString("Almaty")},{value:"+06:30,0",label:"(+06:30) "+Strings.translateString("Yangon (Rangoon)")},{value:"+07:00,1",label:"(+07:00) "+Strings.translateString("GMT+7")},{value:"+07:00,0",label:"(+07:00) "+Strings.translateString("Bangkok, Hanoi, Jakarta, Krasnoyarsk")},{value:"+08:00,0",label:"(+08:00) "+Strings.translateString("Beijing, Hong Kong, Singapore, Taipei, Irkutsk")},{value:"+08:00,1",label:"(+08:00) "+Strings.translateString("Ulaan Bataar, Perth")},{value:"+09:00,1",label:"(+09:00) "+Strings.translateString("GMT+9")},{value:"+09:00,0",label:"(+09:00) "+Strings.translateString("Seoul, Osaka, Sapporo, Tokyo, Yakutsk")},{value:"+09:30,0",label:"(+09:30) "+Strings.translateString("Darwin")},{value:"+09:30,1",label:"(+09:30) "+Strings.translateString("Adelaide")},{value:"+10:00,0",label:"(+10:00) "+Strings.translateString("Brisbane, Guam, Port Moresby, Vladivostok")},{value:"+10:00,1",label:"(+10:00) "+Strings.translateString("Canberra, Melbourne, Sydney, Hobart")},{value:"+11:00,0",label:"(+11:00) "+Strings.translateString("Magadan, Solomon Is., New Caledonia")},{value:"+12:00,1",label:"(+12:00) "+Strings.translateString("Auckland, Wellington")},{value:"+12:00,0",label:"(+12:00) "+Strings.translateString("Fiji, Kamchatka, Marshall Is.")},{value:"+13:00,0",label:"(+13:00) "+Strings.translateString("Nuku'alofa")}];return function(n){return e.createSelectElement(t,n)}}()}(LPTools),Constants={ACTION_OPEN_MOVE_TO_SUB_FOLDER_MENU:"openMoveToSubFolderMenu",ACTION_OPEN_MOVE_TO_FOLDER_MENU:"openMoveToFolderMenu",ACTION_MOVE_TO_FOLDER:"moveToFolder",ACTION_SAVE:"save",ACTION_DELETE:"delete",ACTION_SHARE:"share",ACTION_COPY_USERNAME:"copyUsername",ACTION_COPY_PASSWORD:"copyPassword",ACTION_COPY_URL:"copyURL",ACTION_EDIT:"edit",ACTION_LAUNCH:"launch",ACTION_GO_TO_URL:"goToURL",ACTION_TOGGLE_OPEN:"toggleOpen",ACTION_RENAME:"rename",ACTION_ACCEPT:"acceptShare",ACTION_REJECT:"rejectShare",ACTION_ENABLE:"enable",ACTION_TOGGLE_SELECT:"toggleSelect",ACTION_CREATE_SUB_FOLDER:"createSubFolder",ACTION_OPEN_ALL:"openAll",ACTION_OPEN_MORE_OPTIONS:"openMoreOptions",ACTION_COPY_NOTE:"copyNote",ACTION_FILL:"fillForm",ACTION_OPEN:"open",ACTION_REVOKE:"revoke",ACTION_EMAIL:"email",ACTION_CANCEL:"cancel",ACTION_REMOVE:"remove",ACTION_PURGE:"purge",ACTION_PURGE_SHARED_FOLDER:"purgeSharedFolder",ACTION_RESTORE:"restore",ACTION_RESTORE_SHARED_FOLDER:"restoreSharedFolder",ACTION_UNLINK:"unlink",ACTION_STOP_DOWNLOADING:"stopDownloading",ACTION_START_DOWNLOADING:"startDownloading",ACTION_FILL_SITE:"fillSite",ACTION_CLONE:"clone",ACTION_ADD:"add",ACTION_MANAGE:"manage",ACTION_ACCESS:"access",ACTION_COPY_KEY:"copyKey",ACTION_DASHBOARD:"dashboard",ACTION_UPGRADE:"upgrade",USER_FREE:"Free User",USER_PREMIUM:"Premium User",USER_ENTERPRISE:"Enterprise User",USER_ENTERPRISE_ADMIN:"Enterprise Admin",USER_TEAMS:"Teams User",USER_TEAMS_ADMIN:"Teams Admin",EmailAddressRegularExpression:/[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*/g},function(e){e.ACTION_BUTTONS={},e.ACTION_BUTTONS[e.ACTION_EDIT]={title:"EDIT",css:e.ACTION_EDIT},e.ACTION_BUTTONS[e.ACTION_SHARE]={title:"SHARE",css:e.ACTION_SHARE},e.ACTION_BUTTONS[e.ACTION_DELETE]={title:"DELETE",css:e.ACTION_DELETE},e.ACTION_BUTTONS[e.ACTION_ACCEPT]={title:"ACCEPT",css:e.ACTION_ACCEPT},e.ACTION_BUTTONS[e.ACTION_REJECT]={title:"REJECT",css:e.ACTION_REJECT},e.ACTION_BUTTONS[e.ACTION_LAUNCH]={title:"LAUNCH",css:null},e.ACTION_BUTTONS[e.ACTION_ENABLE]={title:"ENABLE",css:null},e.ACTION_BUTTONS[e.ACTION_ACCESS]={title:"REQUEST_ACCESS",css:null},e.ACTION_BUTTONS[e.ACTION_REVOKE]={title:"REVOKE",css:e.ACTION_REJECT},e.ACTION_BUTTONS[e.ACTION_EMAIL]={title:"RESEND",css:e.ACTION_EMAIL},e.ACTION_BUTTONS[e.ACTION_CANCEL]={title:"CANCEL_INVITE",css:e.ACTION_REJECT},e.ACTION_BUTTONS[e.ACTION_REMOVE]={title:"REMOVE",css:e.ACTION_REJECT},e.ACTION_BUTTONS[e.ACTION_PURGE]={title:"PURGE",css:e.ACTION_DELETE},e.ACTION_BUTTONS[e.ACTION_PURGE_SHARED_FOLDER]={title:"PURGE",css:e.ACTION_DELETE},e.ACTION_BUTTONS[e.ACTION_RESTORE]={title:"RESTORE",css:e.ACTION_RESTORE},e.ACTION_BUTTONS[e.ACTION_RESTORE_SHARED_FOLDER]={title:"RESTORE",css:e.ACTION_RESTORE},e.ACTION_BUTTONS[e.ACTION_MANAGE]={title:"MANAGE",css:e.ACTION_EDIT},e.ACTION_BUTTONS[e.ACTION_UNLINK]={title:"UNLINK",css:e.ACTION_DELETE},e.CONTEXT_MENU_ITEMS={},e.CONTEXT_MENU_ITEMS[e.ACTION_EDIT]="EDIT",e.CONTEXT_MENU_ITEMS[e.ACTION_SHARE]="SHARE",e.CONTEXT_MENU_ITEMS[e.ACTION_DELETE]="DELETE",e.CONTEXT_MENU_ITEMS[e.ACTION_GO_TO_URL]="GO_TO_URL",e.CONTEXT_MENU_ITEMS[e.ACTION_COPY_USERNAME]="COPY_USERNAME",e.CONTEXT_MENU_ITEMS[e.ACTION_COPY_PASSWORD]="COPY_PASSWORD",e.CONTEXT_MENU_ITEMS[e.ACTION_COPY_URL]="COPY_URL",e.CONTEXT_MENU_ITEMS[e.ACTION_OPEN_MOVE_TO_FOLDER_MENU]="MOVE_TO_FOLDER",e.CONTEXT_MENU_ITEMS[e.ACTION_OPEN_MOVE_TO_SUB_FOLDER_MENU]="MOVE_TO_SUB_FOLDER",e.CONTEXT_MENU_ITEMS[e.ACTION_ACCEPT]="ACCEPT",e.CONTEXT_MENU_ITEMS[e.ACTION_REJECT]="REJECT",e.CONTEXT_MENU_ITEMS[e.ACTION_ENABLE]="ENABLE",e.CONTEXT_MENU_ITEMS[e.ACTION_RENAME]="RENAME_FOLDER",e.CONTEXT_MENU_ITEMS[e.ACTION_CREATE_SUB_FOLDER]="CREATE_SUB_FOLDER",e.CONTEXT_MENU_ITEMS[e.ACTION_OPEN_ALL]="OPEN_ALL",e.CONTEXT_MENU_ITEMS[e.ACTION_COPY_NOTE]="COPY_NOTE",e.CONTEXT_MENU_ITEMS[e.ACTION_COPY_KEY]="COPY_KEY",e.CONTEXT_MENU_ITEMS[e.ACTION_FILL]="FILL",e.CONTEXT_MENU_ITEMS[e.ACTION_OPEN]="OPEN",e.CONTEXT_MENU_ITEMS[e.ACTION_SAVE]="SAVE",e.CONTEXT_MENU_ITEMS[e.ACTION_REVOKE]="REVOKE",e.CONTEXT_MENU_ITEMS[e.ACTION_EMAIL]="RESEND",e.CONTEXT_MENU_ITEMS[e.ACTION_CANCEL]="CANCEL_INVITE",e.CONTEXT_MENU_ITEMS[e.ACTION_REMOVE]="REMOVE",e.CONTEXT_MENU_ITEMS[e.ACTION_PURGE]="PURGE",e.CONTEXT_MENU_ITEMS[e.ACTION_PURGE_SHARED_FOLDER]="PURGE",e.CONTEXT_MENU_ITEMS[e.ACTION_RESTORE]="RESTORE",e.CONTEXT_MENU_ITEMS[e.ACTION_RESTORE_SHARED_FOLDER]="RESTORE",e.CONTEXT_MENU_ITEMS[e.ACTION_UNLINK]="UNLINK_PERSONAL",e.CONTEXT_MENU_ITEMS[e.ACTION_STOP_DOWNLOADING]="STOP_DOWNLOADING",e.CONTEXT_MENU_ITEMS[e.ACTION_START_DOWNLOADING]="START_DOWNLOADING",e.CONTEXT_MENU_ITEMS[e.ACTION_FILL_SITE]="AUTO_FILL",e.CONTEXT_MENU_ITEMS[e.ACTION_CLONE]="CLONE",e.CONTEXT_MENU_ITEMS[e.ACTION_MANAGE]="MANAGE_FOLDER",e.CONTEXT_MENU_ITEMS[e.ACTION_ACCESS]="REQUEST_ACCESS",e.CONTEXT_MENU_ITEMS[e.ACTION_DASHBOARD]="OPEN_DASHBOARD",e.CONTEXT_MENU_ITEMS[e.ACTION_UPGRADE]="UPGRADE_PREMIUM",e.HISTORY_TYPES={PASSWORD:0,USERNAME:1,NOTE:2}}(Constants),function(e){e.fn.extend({LP_show:function(){this.removeClass("displaynone")},LP_hide:function(){this.addClass("displaynone")},LP_removeAttr:function(e){for(var t=0,n=this.length;t<n;++t)this.get(t).removeAttribute(e)},LP_addSearchHandlers:function(t,n){var a=e(LPTools.createElement("div","searchInputContainer"));this.before(a),a.append(this);var i="searchCloseButton";t&&(i+=" "+t);var r=e(LPTools.createElement("div",{class:i,title:Strings.translateString("Clear Search")}));a.append(r);var l,o=function(e){e.length>0?a.addClass("populated"):a.removeClass("populated")},s=function(e){clearTimeout(l),l=setTimeout(function(){try{n(e)}catch(e){LPPlatform.logException(e)}},150)};return function(e){r.bind("click",function(t){e.val(""),t.stopPropagation(),t.preventDefault()})}(this),this.LP_input("search",function(e){o(e),s(e)}),this},LP_createToggle:function(){var e=function(e){if("INPUT"===e.nodeName&&"checkbox"===e.getAttribute("type")&&"LABEL"===e.nextElementSibling.nodeName){var t=LPTools.createElement("div","toggleButton");t.appendChild(LPTools.createElement("div")),e.nextElementSibling.appendChild(t)}};return function(){for(var t=0,n=this.length;t<n;++t)e(this.get(t));return this}}(),LP_addPasswordEye:function(){var t=function(e,t,n){e.passwordShown=!0,e.attr("type","text"),t.attr("title",Strings.Vault.HIDE_PASSWORD),t.addClass("selected"),n&&t.text(Strings.Vault.HIDE)},n=function(e,t,n){e.passwordShown=!1,e.attr("type","password"),t.attr("title",Strings.Vault.SHOW_PASSWORD),t.removeClass("selected"),n&&t.text(Strings.Vault.SHOW)},a=function(e,a,r){switch(e.attr("type")){case"password":t(e,a,r);break;case"text":n(e,a,r)}r&&i(e,a)},i=function(e,t){e.css("padding-right",t.outerWidth())};return function(t){this.addClass("password");var r=e(LPTools.createElement("div","relative"));this.before(r),r.append(this),r.css({margin:this.css("margin")}),this.css("margin","0");var l=e(LPTools.createElement("button",{class:"showPassword iconButton",title:Strings.Vault.SHOW_PASSWORD}));return r.append(l),function(o,s){var T=LPTools.getOption(t,"textual",!1);if(T&&(l.addClass("textual"),l.text(Strings.Vault.SHOW),o.one("focus",function(){i(o,l)})),l.bind("click",function(){"password"===o.attr("type")&&s?s(function(){a(o,l,T)}):a(o,l,T)}),o.hidePassword=function(){n(o,l,T)},LPTools.getOption(t,"includeGenerateButton",!1)){o.LP_input("passwordGenerate",function(e){e?r.removeClass("empty"):(o.hidePassword(),r.addClass("empty"))});var E=e(LPTools.createElement("button",{class:"generatePassword iconButton",title:Strings.Vault.GENERATE_PASSWORD}));r.append(E),E.bind("click",function(){dialogs.generatePassword.open({input:o,fillGenerated:!1,saveOptions:{source:"vault"}})})}}(this,LPTools.getOption(t,"checkPermissionHandler",null)),this.val(this.val()),this}}(),LP_reflow:function(){for(var e=0;e<this.length;++e)this.get(e).offsetHeight;return this},LP_scrollParent:function(){var t;if(1===this.length)for(var n=this.get(0).parentElement;n;){var a=e(n);if("auto"===a.css("overflow")&&a.css("max-height")){t=n;break}n=n.parentElement}return e(t)},LP_input:function(e,t){var n=this;e=e?"."+e:"",n.unbind("keypress"+e),n.unbind("keyup"+e),n.unbind("input"+e);var a=function(e){var a=e.which;a>31&&t(n.val()+String.fromCharCode(a))};n.bind("keypress"+e,a);var i=function(e){switch(e.keyCode||e.which){case 8:case 46:t(n.val())}};n.bind("keyup"+e,i);var r=function(){n.unbind("keypress"+e,a),n.unbind("keyup"+e,i),n.unbind("input"+e,r)};n.bind("input"+e,r),n.bind("input"+e,function(){t(n.val())}),n.val=function(e){return function(){return 1===arguments.length&&t(arguments[0]),e.apply(n,arguments)}}(this.val)}})}(jQuery),NotifyException=function(e){Topics.get(Topics.ERROR).publish(e),this.message=e,this.stack=(new Error).stack},NotifyException.prototype=Object.create(Error.prototype),NotifyException.prototype.name="InvalidArgumentException",NotifyException.prototype.constructor=NotifyException,AttachmentKeyException=function(){NotifyException.call(this,Strings.translateString("Could not decrypt attachment key."))},AttachmentKeyException.prototype=Object.create(NotifyException.prototype),AttachmentKeyException.prototype.name="AttachmentKeyException",AttachmentKeyException.prototype.constructor=AttachmentKeyException;